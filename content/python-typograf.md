Title: Это Типограф
Date: 2015-10-13 15:00
Modified: 2015-10-13 15:00
Category: Python
Tags: python, artlebedev, typograf, django
Image: /media/browsers/pedestal.png
Status: draft
Summary:
    У студии Лебедева есть сервис типографирования текста, который
    так и называется [типограф](http://www.artlebedev.ru/tools/typograf/).
    Как заявляют сами разработчики, никто не напишет "Типограф" лучше них.
    В связи с чем они предлагают готовые
    [клиенты](http://www.artlebedev.ru/tools/typograf/webservice/)
    для работы c `api` данного сервиса...

В одном из проектов была поставлена задача типографировать текст
перед публикацией. Для этой задачи было решено использовать
"Типограф" Лебедева.

У студии Лебедева есть сервис типографирования текста, который
так и называется [типограф](http://www.artlebedev.ru/tools/typograf/).
Как заявляют сами разработчики, никто не напишет "Типограф" лучше них.
В связи с чем они предлагают готовые
[клиенты](http://www.artlebedev.ru/tools/typograf/webservice/)
для работы c `api` данного сервиса.

Я не смотрел клиенты для других языков, но клиент для `Python`, который,
студия Лебедева, предлагает, откровенно сказать -- ужасен. В нем `xml` запрос
создается с помощью простой конкатенации строк и сомнительно экранирует
входные данные, `socket` подключается без таймлимита, что приводит к
бесконечно длительному ожиданию ответа, в случае, если сервер недоступен.
Но самым существенным было то, что, последнее изменение было сделано не вчера,
и даже не на прошлой неделе, а всего-ничего, от 24 мая 2007 года,
еще до релиза `Python 3.0`. Соответсвенно данный клиент не поддерживает
`Python 3.x`.

Проект был на `Python 3.4.2`, в связи с чем пришлось написать
собсвтенный клиент для работы с "Типографом". Поскольку адекватного описания
`api` взаимодействия клиент-сервер, в "Типографе" не приводится.
Так что все было сделано по аналогии со старым клиентом.

